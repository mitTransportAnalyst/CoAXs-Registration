<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>CoAXs Registration Test Form</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <link href="https://developers.google.com/maps/documentation/javascript/examples/default.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,800,600' rel='stylesheet' type='text/css'>
 
    <!-- Latest compiled and minified JavaScript -->    
    <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>

    <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>


    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true"></script>

    <style type="text/css">
        

        #map_canvas {
            position: ;
            width: 100%;
            height: 500px;
            margin-top: 10px;
            margin-bottom: 10px;
        }
        
        #current {
            padding-top: 25px;
        }
        
        ul {
            list-style-type: none;
        }

        body {
            margin-left: 10px;
            margin-right: 10px;
            background-color: yellow;
            font-family: 'Open Sans', sans-serif;
        }

        h3 {
            font-weight: 300;
        }

        #dataVizSlider {
          width: 300px;
        }

        #brtSlider {
          width: 300px;
        }

        #form-submit {
            position: 50%;
            font-weight: 300;
            font-size: 1.5em;
            background-color: gray;
            color: none;
            border-style: none;
        }

    </style>


</head>

<body>
    <h3>Welcome to the <strong>BostonBRT</strong> Planning Workshop (Beta)</h3>
    <h2>Help us know you better.</h2>  
    <br>

    <h3> 1. YOUR BACKGROUND </h3>

    <form class="form-horizontal" id="input-form" action="" method="POST" target="no-target">
        
        <div class="form-group form-group-lg">
          <label class="col-sm-3 control-label" for="formGroupInputLarge">Please choose two alphabets to represent your map marker?</label>
          <div class="col-sm-2">    
            <input class="form-control" id="initials" type="text" name="initials" >
          </div>
        </div>

    <div class="form-group form-group-lg">
        <label class="col-sm-3 control-label" for="formGroupInputLarge">Age Group:</label>
        <div class="col-sm-8">  
        <div class="" id="btn-group"  role="group3" aria-label="...">
          <input type="button" class="btn btn-primary btn-lg  mode" value="15-24">
          <input type="button" class="btn btn-primary btn-lg  mode" value="25-44">
          <input type="button" class="btn btn-primary btn-lg  mode" value="45-64">
          <input type="button" class="btn btn-primary btn-lg  mode" value="65+">
        </div>
      </div>
    </div>

      
        <div class="form-group form-group-lg">
          <label class="col-sm-3 control-label" for="formGroupInputLarge">Occupation:</label>
          <div class="col-sm-6">    
            <label for="background"></label>
            <select class="form-control input-lg" name="background" id="background">
              <option>Public Policy/Administration</option>
              <option>Urban Planning</option>
              <option>Non-Profit/Community Organization</option>
              <option>Architecture</option>
              <option>Education</option>
              <option>Agriculture</option>
              <option>Health Care</option>
              <option>Technology / Media</option>
              <option>Others</option>
            </select>
          </div>
         </div>
      
        <br>
        
        
        <h3> 2. PLACES YOU GO TO </h3>

        <h4>Locate a few places that matter to you and drop a marker for each on the map</h4>

        <div class="form-group form-group-lg">
       <label class="col-sm-2 control-label" for="formGroupInputLarge">Places:</label>
        <div class="col-sm-8">     
        <div class="" id="btn-group"  role="group" aria-label="...">
          <input type="button" class="btn btn-success btn-lg poi" value="home">
          <input type="button" class="btn btn-success btn-lg poi" value="work">
          <input type="button" class="btn btn-success btn-lg poi" value="shop">
          <input type="button" class="btn btn-success btn-lg poi" value="school">
          <input type="button" class="btn btn-success btn-lg poi" value="friends">
          <input type="button" class="btn btn-success btn-lg poi" value="family">
          <input type="button" class="btn btn-success btn-lg poi" value="leisure">
          <input type="button" class="btn btn-success btn-lg poi" value="doctor">
        </div>
        </div>
        </div>

        <div class="form-group form-group-lg">

       <label class="col-sm-2 control-label" for="formGroupInputLarge">Typical Time:</label>
        <div class="col-sm-8">    
        <div class="" id="btn-group"  role="group2" aria-label="...">
          <input type="button" class="btn btn-info btn-lg time" value="morning or afternoon">
          <input type="button" class="btn btn-info btn-lg time" value="mid-day">
          <input type="button" class="btn btn-info btn-lg time" value="night">
          <input type="button" class="btn btn-info btn-lg time" value="weekend">
        </div>
        </div>
        </div>

        <div class="form-group form-group-lg">
        <label class="col-sm-2 control-label" for="formGroupInputLarge">Travel Mode:</label>
        <div class="col-sm-8">  
        <div class="" id="btn-group"  role="group3" aria-label="...">
          <input type="button" class="btn btn-primary btn-lg  mode" value="train/bus">
          <input type="button" class="btn btn-primary btn-lg  mode" value="car">
          <input type="button" class="btn btn-primary btn-lg  mode" value="bicycle">
          <input type="button" class="btn btn-primary btn-lg  mode" value="foot">
        </div>
        </div>
        </div>

        <div class="form-group form-group-lg">
          <label class="col-sm-2 control-label" for="formGroupInputLarge">Usual Travel Time from Home:</label>
            <div class="col-sm-8">
                <input type="button" class="btn btn-warning btn-lg  mode" value="<15min">
                <input type="button" class="btn btn-warning btn-lg  mode" value="15~30min">
                <input type="button" class="btn btn-warning btn-lg  mode" value="30min~1hr">
                <input type="button" class="btn btn-warning btn-lg  mode" value="1hr~1hr30min">
                <input type="button" class="btn btn-warning btn-lg  mode" value=">1hr30min">

            <!--   <input type="range" min:10, max:120, step=10, style="width: 230px" class="duration form-control input-lg">  -->
          </div>
        </div>
     
      
        <div class="form-group form-group-lg">
          <label class="col-sm-2 control-label" for="formGroupInputLarge">What's challenging about your travel?</label>
          <div class="col-sm-8"> 
          <input class="form-control input-lg" id="painTag" type="text" name="painTag">
          </div>
        </div>
       
        <div class="form-group form-group-lg">
          <label class="col-sm-2 control-label" for="formGroupInputLarge">Drop a marker representing the place you identified below or enter a street intersection:</label>
          <div class="col-sm-8"> 
            <input class="form-control input-lg" id="addressTag" type="text" name="addressTag">
          </div>
        </div>
  
      <div id='map_canvas' style="width:90%"></div>
      <br>

      <h3> 3. PRIOR KNOWLEDGE  <small>(Sample Questions) </small></h3>
      <br>
      <h4 for="dataViz"> Bus Rapid Transit (BRT) and Data Visualization </h4> <br>
      
      
        <div class="form-group form-group-lg">
          <label class="col-sm-4">On a scale of 1-5, how familiar are you with digital graphical representation of information and data?</label>
          <div class="col-sm-6"> 
            <input class="" id="" type="range">
          </div>
        </div>    

        <div class="form-group form-group-lg">
          <label class="col-sm-4">Are you familiar with the concept of Bus Rapid Transit (yes/no) ?  if so, name four components. </label>
          <div class="col-sm-6"> 
             <input type="button" class="btn btn-warning btn-lg  mode" value="Yes">
             <input type="button" class="btn btn-warning btn-lg  mode" value="No">
             <br>         
             <input class="form-control" id="initials" type="text" name="initials"  >

          </div>
          </div>
        </div>    

    <!--     <div class="form-group form-group-lg">
          <label class="col-sm-4">Reading Maps</label>
          <div class="col-sm-6"> 
            <input class="" id="" type="range">
          </div>
        </div>

        <div class="form-group form-group-lg">
          <label class="col-sm-4">Data Visualization</label>
          <div class="col-sm-6"> 
            <input class="" id="" type="range">
          </div>
        </div>

        <div class="form-group form-group-lg">
          <label class="col-sm-4">Transportation Planning</label>
          <div class="col-sm-6"> 
            <input class="" id="" type="range">
          </div>
        </div> -->
 

      <br>

      <h4 for="dataViz"> COMMUNITY MEETINGS</h4> <br>

        <div class="form-group form-group-lg">
          <label class="col-sm-4" for="formGroupInputLarge">Over the past year, how many community meetings have you attended?</label>
            <div class="col-sm-8">
                <input type="button" class="btn btn-warning btn-lg  mode" value="None">
                <input type="button" class="btn btn-warning btn-lg  mode" value="1~3">
                <input type="button" class="btn btn-warning btn-lg  mode" value="3~10">
                <input type="button" class="btn btn-warning btn-lg  mode" value=">10">         
          </div>
        </div>
         <div class="form-group form-group-lg">
          <label class="col-sm-4" for="formGroupInputLarge">Of the community meetings you attended, in how many you spoke and shared your opinion?</label>
            <div class="col-sm-8">
                <input type="button" class="btn btn-warning btn-lg  mode" value="None">
                <input type="button" class="btn btn-warning btn-lg  mode" value="1~3">
                <input type="button" class="btn btn-warning btn-lg  mode" value="3~10">
                <input type="button" class="btn btn-warning btn-lg  mode" value=">10">         
          </div>
        </div>
        <br>
        <div class="form-group form-group-lg">
          <label class="col-sm-4 ">On a scale of 1-5, to what extent do you agree that community meetings are a venue for constructive discussions?</label>
          <div class="col-sm-6"> 
            <input class="" id="" type="range">
          </div>
        </div>
<!-- 
        <div class="form-group form-group-lg">
          <label class="col-sm-4">I believe that community meetings are a venue for constructive discussion about planning decisions.</label>
          <div class="col-sm-6"> 
            <input class="" id="" type="range">
          </div>
        </div>

        <div class="form-group form-group-lg">
          <label class="col-sm-4">I believe that decisions about the city/neighborhoods are better made in the hands of experts or professional who have the technical knowledge.</label>
          <div class="col-sm-6"> 
            <input class="" id="" type="range">
          </div>
        </div> -->

        <br>
        <br>
      <span class=""> 
        <button id="form-submit" class="btn btn-lg btn-success btn-block" type="submit">SUBMIT</button>
      </span>
      

      </form>
      <br>

<!-- Form Script -->
      
    <script>
        $('#input-form').one('submit',function(){
            
            // var latitude = encodeURIComponent($('#latitude').val());
            // var longitude = encodeURIComponent($('#longitude').val());
            
            var background = encodeURIComponent($('#background').val());
                    
            // var poiTag = encodeURIComponent($('#poiTag').val());

            var initials = encodeURIComponent($('#initials').val());
            var initialsCol = "entry.1710541390";
            
            var poi = JSON.stringify(markers);
            var poiCol = "entry.1709971823";
            
            //var latCol = "";
            //var longCol = "entry.897103553";

       
            var baseURL = 'https://docs.google.com/forms/d/1PrYVTmEaW1UmN5Rx5121VpGnEDne0AT6UWcVzP6B2AE/formResponse?';
            var submitRef = '&submit=Submit';
            var submitURL = (baseURL + initialsCol + "=" + initials + "&" + poiCol + "=" + poi + "&" + submitRef);
            console.log(submitURL);
            $(this)[0].action=submitURL;
            $('#input-name').addClass('active').val('Thank You!');
        });
    

     var poiTag = [];
     var timeTag = [];
     var durationTag = [];
     var modeTag = [];
     var painTag = [];
     var markers = [];

        function initialize() {
            var mapOptions = {
              zoom: 13,
              center: new google.maps.LatLng(42.3385, -71.0809),
              mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var map = new google.maps.Map(document.getElementById('map_canvas'),
                mapOptions);

            $('.poi').click(function() {
                poiTag = this.value;
                console.log('button clicked', this.value);
              });

            $('.time').click(function() {
                timeTag = this.value;
                console.log('button clicked', this.value);
              });

            $('.mode').click(function() {
                modeTag = this.value;
                console.log('button clicked', this.value);
              });

            // $('.duration').onchange(function() {
            //     durationTag = this.value;
            //     console.log('button clicked', this.value);
            //   });

            // $('.pain').(function() {
            //     painTag = this.value;
            //     console.log('button clicked', this.value);
            //   });


            google.maps.event.addListener(map, 'click', function(e) {
              placeMarker(e.latLng, map);
              
              console.log(e.latLng);
              // markers.push({"lat": e.latLng.A, "lng": e.latLng.F, "poiTag": $("#poiTag").val()});

              markers.push({"lat": e.latLng.H, "lng": e.latLng.L, "poiTag": poiTag, "timeTag": timeTag, "modeTag": modeTag});

                console.log(markers);
            });
        }

        function placeMarker(position, map) {
            var marker = new google.maps.Marker({
              position: position,
              map: map,
              draggable: true
            });
            map.panTo(position);
        }

        google.maps.event.addDomListener(window, 'load', initialize);
    

      // $('.btn').click(function() {
      //   var btnTag = this.value;
      //   console.log('button clicked', this.value);

      // });

     

      $(function() {
        $( "#dataVizSlider" ).slider({
          value:3,
          min: 1,
          max: 5,
          step: 1,
          slide: function( event, ui ) {
            $( "#amount" ).val( ui.value );
          }
        });
        $( "#amount" ).val( $( "#slider" ).slider( "value" ) );
      });

      $(function() {
        $( "#brtSlider" ).slider({
          value:3,
          min: 1,
          max: 5,
          step: 1,
          slide: function( event, ui ) {
            $( "#amount" ).val( ui.value );
          }
        });
        $( "#amount" ).val( $( "#slider" ).slider( "value" ) );
      });

    </script>


</body>
</html>




